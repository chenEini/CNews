{"ast":null,"code":"var _jsxFileName = \"/Users/cheneini/Documents/chen-degree/cloud/cnews/client/src/components/article/ArticleList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { ArticlesService } from '../../services/articles.service';\nimport Article from './Article';\nimport { CategoriesService } from \"../../services/category.service\";\n\nfunction ArticleList() {\n  const [articles, setArticles] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [categorySearch, setCategorySearch] = useState('');\n  const [startDateSearch, setStartDateSearch] = useState(null);\n  const [endDateSearch, setEndDateSearch] = useState(null);\n\n  const getArticles = (category, startDate, endDate) => {\n    ArticlesService.getArticles(category, startDate, endDate).then(data => {\n      setArticles(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    getArticles();\n  }, []);\n  useEffect(() => {\n    CategoriesService.getCategories().then(data => {\n      setCategories(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [categories.length]);\n\n  const onCategoryChange = event => {\n    setCategorySearch(event.target.value);\n  };\n\n  const search = (event, isClear = false) => {\n    let startDate = '';\n    let endDate = '';\n\n    if (isClear) {\n      getArticles('', '', '');\n      return;\n    }\n\n    if (startDateSearch) {\n      startDate = new Date(startDateSearch);\n    }\n\n    if (endDateSearch) {\n      endDate = new Date(endDateSearch);\n      endDate.setHours(23, 59, 59, 999);\n    }\n\n    getArticles(categorySearch, startDate, endDate);\n  };\n\n  const clearSearch = () => {\n    setCategorySearch('');\n    setStartDateSearch(null);\n    setEndDateSearch(null);\n    search(null, true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: categorySearch,\n    id: \"category\",\n    onChange: onCategoryChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"All\"), categories.map((c, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: c.id,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  }, c.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dates-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"startDate\",\n    type: \"date\",\n    placeholder: \"Enter start date\",\n    onChange: e => setStartDateSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"endDate\",\n    type: \"date\",\n    placeholder: \"Enter end date\",\n    onChange: e => setEndDateSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clearSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Clear\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 10\n    }\n  }, articles.map((a, index) => /*#__PURE__*/React.createElement(Article, {\n    key: index,\n    article: a,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 46\n    }\n  }))));\n}\n\nexport default ArticleList;","map":{"version":3,"sources":["/Users/cheneini/Documents/chen-degree/cloud/cnews/client/src/components/article/ArticleList.js"],"names":["React","useEffect","useState","ArticlesService","Article","CategoriesService","ArticleList","articles","setArticles","categories","setCategories","categorySearch","setCategorySearch","startDateSearch","setStartDateSearch","endDateSearch","setEndDateSearch","getArticles","category","startDate","endDate","then","data","catch","err","console","log","getCategories","length","onCategoryChange","event","target","value","search","isClear","Date","setHours","clearSearch","map","c","index","id","name","e","a"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {ArticlesService} from '../../services/articles.service';\nimport Article from './Article'\nimport {CategoriesService} from \"../../services/category.service\";\n\nfunction ArticleList() {\n    const [articles, setArticles] = useState([]);\n    const [categories, setCategories] = useState([]);\n    const [categorySearch, setCategorySearch] = useState('');\n\tconst [startDateSearch, setStartDateSearch] = useState(null);\n\tconst [endDateSearch, setEndDateSearch] = useState(null);\n\n\tconst getArticles = (category, startDate, endDate) => {\n\t\tArticlesService.getArticles(category, startDate, endDate)\n\t\t\t.then(data => {\n\t\t\t\tsetArticles(data)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t});\n\t};\n\n    useEffect(() => {\n    \tgetArticles();\n    }, []);\n\n    useEffect(() => {\n\t    CategoriesService.getCategories()\n\t\t    .then(data => {\n\t\t\t    setCategories(data)\n\t\t    })\n\t\t    .catch(err => {\n\t\t\t    console.log(err)\n\t\t    });\n    }, [categories.length]);\n\n    const onCategoryChange = (event) => {\n    \tsetCategorySearch(event.target.value);\n    };\n\n    const search = (event, isClear = false) => {\n\t    let startDate = '';\n\t    let endDate = '';\n\n\t    if (isClear) {\n\t    \tgetArticles('', '', '');\n\t    \treturn;\n\t    }\n\n    \tif (startDateSearch) {\n\t        startDate = new Date(startDateSearch);\n\t    }\n\n\t    if (endDateSearch) {\n\t        endDate = new Date(endDateSearch);\n\t        endDate.setHours(23, 59, 59, 999);\n\t    }\n\n\t    getArticles(categorySearch, startDate, endDate);\n    };\n\n    const clearSearch = () => {\n        setCategorySearch('');\n        setStartDateSearch(null);\n        setEndDateSearch(null);\n\n        search(null, true)\n    };\n\n    return (\n        <div className=\"article-list\">\n\t        <div className=\"search\">\n\t\t\t\t<div className=\"category-search\">\n\t\t\t\t\t<select value={categorySearch} id=\"category\" onChange={onCategoryChange}>\n\t\t\t\t\t\t<option value={''}>All</option>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcategories.map((c, index) => <option value={c.id} key={index} >{c.name}</option>)\n\t\t\t\t\t\t}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t        <div className=\"dates-search\">\n\t\t\t        <input id=\"startDate\" type=\"date\" placeholder=\"Enter start date\" onChange={e => setStartDateSearch(e.target.value)}/>\n\t\t\t        <input id=\"endDate\" type=\"date\" placeholder=\"Enter end date\" onChange={e => setEndDateSearch(e.target.value)}/>\n\t\t        </div>\n\t\t        <button onClick={search}>Search</button>\n\t\t        <button onClick={clearSearch}>Clear</button>\n\t        </div>\n\n\t        <div className=\"content\">\n\t            {\n\t                articles.map((a, index) => (<Article key={index} article={a}/>))\n\t            }\n\t        </div>\n        </div>\n    )\n}\n\nexport default ArticleList;\n"]},"metadata":{},"sourceType":"module"}