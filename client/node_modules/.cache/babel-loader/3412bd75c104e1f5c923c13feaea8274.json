{"ast":null,"code":"import _slicedToArray from\"/Users/cheneini/Documents/chen-degree/cloud/cnews/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useParams}from\"react-router-dom\";import{ArticlesService}from\"../../services/articles.service\";function ArticlePage(){var _useParams=useParams(),articleId=_useParams.articleId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),articleDate=_useState4[0],setArticleDate=_useState4[1];var lambdaUrl='https://3t0d39gku3.execute-api.us-east-1.amazonaws.com/production/dateformatting';useEffect(function(){ArticlesService.getArticle(articleId).then(function(article){setArticle(article);}).catch(console.log);fetch(\"\".concat(lambdaUrl,\"?articleDate=\").concat(article.created_at)).then(function(res){return setArticleDate(res.json());}).catch(function(err){console.log(err);});},[articleId]);return!article?null:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"header\",null,article.title,\" | \",article.categoryName),/*#__PURE__*/React.createElement(\"article\",null,article.content),/*#__PURE__*/React.createElement(\"footer\",null,articleDate,\" | \",article.views,\" views\"));}export default ArticlePage;","map":{"version":3,"sources":["/Users/cheneini/Documents/chen-degree/cloud/cnews/server/client/src/components/article/ArticlePage.js"],"names":["React","useEffect","useState","useParams","ArticlesService","ArticlePage","articleId","article","setArticle","articleDate","setArticleDate","lambdaUrl","getArticle","then","catch","console","log","fetch","created_at","res","json","err","title","categoryName","content","views"],"mappings":"sLAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OACIC,SADJ,KAEO,kBAFP,CAGA,OAAQC,eAAR,KAA8B,iCAA9B,CAEA,QAASC,CAAAA,WAAT,EAAuB,gBACDF,SAAS,EADR,CACdG,SADc,YACdA,SADc,eAEWJ,QAAQ,CAAC,IAAD,CAFnB,wCAEZK,OAFY,eAEHC,UAFG,8BAGmBN,QAAQ,CAAC,EAAD,CAH3B,yCAGZO,WAHY,eAGCC,cAHD,eAInB,GAAMC,CAAAA,SAAS,CAAG,kFAAlB,CAEAV,SAAS,CAAC,UAAM,CACZG,eAAe,CAACQ,UAAhB,CAA2BN,SAA3B,EAAsCO,IAAtC,CAA2C,SAACN,OAAD,CAAa,CACpDC,UAAU,CAACD,OAAD,CAAV,CACH,CAFD,EAEGO,KAFH,CAESC,OAAO,CAACC,GAFjB,EAGAC,KAAK,WAAIN,SAAJ,yBAA6BJ,OAAO,CAACW,UAArC,EAAL,CACKL,IADL,CACU,SAAAM,GAAG,QAAIT,CAAAA,cAAc,CAACS,GAAG,CAACC,IAAJ,EAAD,CAAlB,EADb,EAEKN,KAFL,CAEW,SAAAO,GAAG,CAAI,CACVN,OAAO,CAACC,GAAR,CAAYK,GAAZ,EACH,CAJL,EAKH,CATQ,CASN,CAACf,SAAD,CATM,CAAT,CAWA,MACI,CAACC,OAAD,CAAW,IAAX,cACI,4CACI,kCACKA,OAAO,CAACe,KADb,OACuBf,OAAO,CAACgB,YAD/B,CADJ,cAII,mCACKhB,OAAO,CAACiB,OADb,CAJJ,cAOI,kCACKf,WADL,OACqBF,OAAO,CAACkB,KAD7B,UAPJ,CAFR,CAcH,CAED,cAAepB,CAAAA,WAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {\n    useParams\n} from \"react-router-dom\";\nimport {ArticlesService} from \"../../services/articles.service\";\n\nfunction ArticlePage() {\n    let {articleId} = useParams();\n    const [article, setArticle] = useState(null);\n    const [articleDate, setArticleDate] = useState(\"\");\n    const lambdaUrl = 'https://3t0d39gku3.execute-api.us-east-1.amazonaws.com/production/dateformatting';\n\n    useEffect(() => {\n        ArticlesService.getArticle(articleId).then((article) => {\n            setArticle(article)\n        }).catch(console.log);\n        fetch(`${lambdaUrl}?articleDate=${article.created_at}`)\n            .then(res => setArticleDate(res.json()))\n            .catch(err => {\n                console.log(err);\n            });\n    }, [articleId]);\n\n    return (\n        !article ? null :\n            <div>\n                <header>\n                    {article.title} | {article.categoryName}\n                </header>\n                <article>\n                    {article.content}\n                </article>\n                <footer>\n                    {articleDate} | {article.views} views\n                </footer>\n            </div>\n    )\n}\n\nexport default ArticlePage;\n"]},"metadata":{},"sourceType":"module"}