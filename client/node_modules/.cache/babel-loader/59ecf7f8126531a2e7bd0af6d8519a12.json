{"ast":null,"code":"var _jsxFileName = \"/Users/cheneini/Documents/chen-degree/cloud/cnews/client/src/components/article/ArticleList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { ArticlesService } from '../../services/articles.service';\nimport Article from './Article';\nimport { CategoriesService } from \"../../services/category.service\";\n\nfunction ArticleList() {\n  const [articles, setArticles] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [categorySearch, setCategorySearch] = useState(null);\n  const [startDateSearch, setStartDateSearch] = useState(null);\n  const [endDateSearch, setEndDateSearch] = useState(null);\n\n  const getArticles = (category, startDate, endDate) => {\n    ArticlesService.getArticles(category, startDate, endDate).then(data => {\n      setArticles(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    getArticles();\n  }, []);\n  useEffect(() => {\n    CategoriesService.getCategories().then(data => {\n      setCategories(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [categories.length]);\n\n  const search = e => {\n    let startDate = '';\n    let endDate = '';\n\n    if (startDateSearch) {\n      startDate = new Date(startDateSearch);\n    }\n\n    if (endDateSearch) {\n      endDate = new Date(endDateSearch);\n    }\n\n    getArticles(categorySearch, startDate, endDate);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"article-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"category\",\n    onChange: e => setCategorySearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"All\"), categories.map((c, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: c.id,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 37\n    }\n  }, c.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dates-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"startDate\",\n    type: \"date\",\n    placeholder: \"Enter start date\",\n    onChange: e => setStartDateSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"endDate\",\n    type: \"date\",\n    placeholder: \"Enter end date\",\n    onChange: e => setEndDateSearch(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 10\n    }\n  }, articles.map((a, index) => /*#__PURE__*/React.createElement(Article, {\n    key: index,\n    article: a,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 46\n    }\n  }))));\n}\n\nexport default ArticleList;","map":{"version":3,"sources":["/Users/cheneini/Documents/chen-degree/cloud/cnews/client/src/components/article/ArticleList.js"],"names":["React","useEffect","useState","ArticlesService","Article","CategoriesService","ArticleList","articles","setArticles","categories","setCategories","categorySearch","setCategorySearch","startDateSearch","setStartDateSearch","endDateSearch","setEndDateSearch","getArticles","category","startDate","endDate","then","data","catch","err","console","log","getCategories","length","search","e","Date","target","value","map","c","index","id","name","a"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {ArticlesService} from '../../services/articles.service';\nimport Article from './Article'\nimport {CategoriesService} from \"../../services/category.service\";\n\nfunction ArticleList() {\n    const [articles, setArticles] = useState([]);\n    const [categories, setCategories] = useState([]);\n    const [categorySearch, setCategorySearch] = useState(null);\n\tconst [startDateSearch, setStartDateSearch] = useState(null);\n\tconst [endDateSearch, setEndDateSearch] = useState(null);\n\n\tconst getArticles = (category, startDate, endDate) => {\n\t\tArticlesService.getArticles(category, startDate, endDate)\n\t\t\t.then(data => {\n\t\t\t\tsetArticles(data)\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t});\n\t};\n\n    useEffect(() => {\n    \tgetArticles();\n    }, []);\n\n    useEffect(() => {\n\t    CategoriesService.getCategories()\n\t\t    .then(data => {\n\t\t\t    setCategories(data)\n\t\t    })\n\t\t    .catch(err => {\n\t\t\t    console.log(err)\n\t\t    });\n    }, [categories.length]);\n\n    const search = (e) => {\n\t    let startDate = '';\n\t    let endDate = '';\n\n    \tif (startDateSearch) {\n\t        startDate = new Date(startDateSearch);\n\t    }\n\n\t    if (endDateSearch) {\n\t        endDate = new Date(endDateSearch);\n\t    }\n\n\t    getArticles(categorySearch, startDate, endDate);\n    };\n\n    return (\n        <div className=\"article-list\">\n\t        <div className=\"search\">\n\t\t\t\t<div className=\"category-search\">\n\t\t\t\t\t<select id=\"category\" onChange={e => setCategorySearch(e.target.value)}>\n\t\t\t\t\t\t<option>All</option>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcategories.map((c, index) => <option value={c.id} key={index} >{c.name}</option>)\n\t\t\t\t\t\t}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t        <div className=\"dates-search\">\n\t\t\t        <input id=\"startDate\" type=\"date\" placeholder=\"Enter start date\" onChange={e => setStartDateSearch(e.target.value)}/>\n\t\t\t        <input id=\"endDate\" type=\"date\" placeholder=\"Enter end date\" onChange={e => setEndDateSearch(e.target.value)}/>\n\t\t        </div>\n\t\t        <button onClick={search}>Search</button>\n\t        </div>\n\n\t        <div className=\"content\">\n\t            {\n\t                articles.map((a, index) => (<Article key={index} article={a}/>))\n\t            }\n\t        </div>\n        </div>\n    )\n}\n\nexport default ArticleList;"]},"metadata":{},"sourceType":"module"}